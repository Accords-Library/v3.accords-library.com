---
import {
  isBlockLineBlock,
  type GenericBlock,
  isBlockCueBlock,
} from "src/shared/payload/payload-sdk";

import LineBlock from "./components/LineBlock.astro";
import CueBlock from "./components/CueBlock.astro";
import ErrorMessage from "components/ErrorMessage.astro";

interface Props {
  block: GenericBlock;
  lang?: string | undefined;
}

const { block, lang } = Astro.props;
---

{/* ------------------------------------------- HTML ------------------------------------------- */}

{
  isBlockLineBlock(block) ? (
    <LineBlock block={block} lang={lang} />
  ) : isBlockCueBlock(block) ? (
    <CueBlock block={block} lang={lang} />
  ) : (
    <ErrorMessage title={`Unknown block type: ${block.blockType}`} />
  )
}
