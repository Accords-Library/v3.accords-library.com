---
import { getRandomId } from "src/utils/random";

interface Props {
  src: string;
  alt?: string;
  id?: string;
  class?: string;
}

const { src, alt } = Astro.props;

const uniqueId = getRandomId();
---

<img id={uniqueId} src={src} alt={alt} />

<script define:vars={{ uniqueId }}>
  const element = document.getElementById(uniqueId);

  element.addEventListener("load", () => {
    element.style.opacity = 1;
  });
</script>

<style>
  img {
    opacity: 0;
    transition: 3s opacity;
  }
</style>
