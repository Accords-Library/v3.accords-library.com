---
import GenericPreview from "components/Previews/GenericPreview.astro";
import { getI18n } from "src/i18n/i18n";
import type { EndpointCollectible } from "src/shared/payload/payload-sdk";

interface Props {
  collectible: EndpointCollectible;
}

const { getLocalizedMatch, getLocalizedUrl } = await getI18n(Astro.locals.currentLocale);

const {
  collectible: { slug, translations, thumbnail, tagGroups },
} = Astro.props;

const { title, pretitle, subtitle } = getLocalizedMatch(translations);
---

{/* ------------------------------------------- HTML ------------------------------------------- */}

<GenericPreview
  title={title}
  pretitle={pretitle}
  subtitle={subtitle}
  thumbnail={thumbnail}
  href={getLocalizedUrl(`/collectibles/${slug}`)}
  tagGroups={tagGroups}
  disableRoundedTop
/>
